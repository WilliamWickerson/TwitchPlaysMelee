//Case insensitive to prefer lower case
//Ignore white space since we're tokenizing input

#press A; press B 3; press X 2-7,8-10;
#unpress ...
#stick 3,4; stick left; stick left-up-left;
#cstick ...
#stick center; stick tilt?

macro-identifier := [a-zA-Z]+
keywords := press | unpress | stick | cstick | center | left | right | up | down | tilt
            | A | B | X | Y | Z | L | R | START | DLEFT | DRIGHT | DUP | DDOWN
int-literal := [1-9][0-9]* | 0
float-literal := .[0-9]* | [1-9][0-9]*.[0-9]*
comma := ,
semicolon := ;
hyphen := -


Script := Command (semicolon Command)* (semicolon | ε)
Command := ButtonCommand | StickCommand | ShoulderCommand
ButtonCommand := (press | unpress) Button Duration
Button := A | B | X | Y | Z | L | R | START | DLEFT | DRIGHT | DUP | DDOWN
Duration := Frames (comma Frames)*
Frames := int-literal | int-literal hyphen int-literal
StickCommand := (stick | cstick) Direction Duration
Direction := (tilt | ε) (((int-literal | float-literal) comma (int-literal | float-literal))
             | (NamedDirection (hyphen NamedDirection)*))
NamedDirction := center | left | right | up | down | tilt
ShoulderCommand :=